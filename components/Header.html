<header>
  <div class="left-section">
    <a href="Home.html"><img src="assets/news_logo.png" alt="NEWSCENES 로고" class="logo-icon" /></a>
    <div class="logo-text">NEWSCENES</div>
  </div>
  <nav class="nav-links">
    <!-- <a href="Home.html" id="home-link">Home</a> -->
    <a href="#" data-category="Politics">정치</a>
    <a href="#" data-category="Economy">경제</a>
    <a href="#" data-category="Society">사회</a>
    <a href="#" data-category="ITScience">IT/과학</a>
    <a href="#" data-category="LifestyleCulture">생활/문화</a>
    <a href="#" data-category="Entertainment">연예</a>
    <a href="mypage.html" class="user_icon"><img src="../assets/user.png" alt="마이페이지" width="20px"></a>
  </nav> 
  
  <div class="right-section">
    <div class="search-icon"><img src="../assets/search.png" alt="검색" width="18px"></div>
    <span id="welcomeText" style="display: none;"></span>
    <button id="loginBtn">Login</button>
  </div>
</header>

<script>
  document.getElementById("home-link").addEventListener("click", () => {
    localStorage.removeItem("selectedCategory");
  });

  document.addEventListener("DOMContentLoaded", () => {
    const loginBtn = document.getElementById("loginBtn");
    const welcomeText = document.getElementById("welcomeText");
    const isLoggedIn = localStorage.getItem('isLoggedIn') === 'true';
    const storedUserId = localStorage.getItem('userId');

    if (isLoggedIn && storedUserId) {
      loginBtn.style.display = 'none';
      welcomeText.style.display = 'inline-block';
      welcomeText.textContent = `${storedUserId}님 반갑습니다!`;
    } else {
      loginBtn.style.display = 'inline-block';
      welcomeText.style.display = 'none';
      loginBtn.onclick = () => location.href = 'login.html';
    }

    const navLinks = document.querySelectorAll(".nav-links a[data-category]");
    navLinks.forEach(link => {
      link.addEventListener("click", function (e) {
        e.preventDefault();
        const category = this.getAttribute("data-category");
        localStorage.setItem("selectedCategory", category);
        location.href = "Home.html";
      });
    });
  });
</script>
