<header>
  <div class="logo"><strong>NEWSCENES</strong></div>
  <nav class="nav-links">
    <a href="Home.html" id="home-link">Home</a>
    <a href="#" data-category="Politics">정치</a>
    <a href="#" data-category="Economy">경제</a>
    <a href="#" data-category="Society">사회</a>
    <a href="#" data-category="ITScience">IT/과학</a>
    <a href="#" data-category="LifestyleCulture">생활/문화</a>
    <a href="#" data-category="Entertainment">연예</a>
    <a href="mypage.html">마이페이지</a>
  </nav>
  <!-- 헤더 내 우측 영역 -->
<div class="search-icon" style="cursor: pointer;">
  🔍
</div>
<div class="right-section" style="display: flex; align-items: center; gap: 10px;">
  <span id="welcomeText" style="display: none;"></span>
  <button id="loginBtn">Login</button>
</div>
</header>

<script>
  document.getElementById("home-link").addEventListener("click", () => {
  localStorage.removeItem("selectedCategory");
});

  document.addEventListener("DOMContentLoaded", () => {
    const loginBtn = document.getElementById("loginBtn");
    const welcomeText = document.getElementById("welcomeText");
    const isLoggedIn = localStorage.getItem('isLoggedIn') === 'true';
    const storedUserId = localStorage.getItem('userId');

    if (isLoggedIn && storedUserId) {
      loginBtn.style.display = 'none';
      welcomeText.style.display = 'inline-block';
      welcomeText.textContent = `${storedUserId}님 반갑습니다!`;
    } else {
      loginBtn.style.display = 'inline-block';
      welcomeText.style.display = 'none';
      loginBtn.onclick = () => location.href = 'login.html';
    }

    // 카테고리 필터 이벤트 추가
    const navLinks = document.querySelectorAll(".nav-links a[data-category]");
    navLinks.forEach(link => {
      link.addEventListener("click", function (e) {
        e.preventDefault();
        const category = this.getAttribute("data-category");
        localStorage.setItem("selectedCategory", category); // 선택 카테고리 저장
        location.href = "Home.html"; // 홈으로 이동
      });
    });
  });
</script>
